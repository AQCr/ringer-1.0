<section id="{{ section.id }}" class="py-12">
  <div class="container mx-auto px-6 max-w-4xl text-center">
    <h2 class="text-2xl font-semibold text-black mb-6">{{ section.settings.title }}</h2>

    <div class="relative">
      <div class="testimonial-track overflow-hidden">
        {% for block in section.blocks %}
          <div class="testimonial-item p-6 bg-white rounded-lg shadow-md mb-4">
            <p class="text-black/80">“{{ block.settings.quote }}”</p>
            <div class="mt-4 font-semibold">{{ block.settings.author }}</div>
            <div class="text-sm text-black/60">{{ block.settings.role }}</div>
          </div>
        {% endfor %}
      </div>

      <button class="carousel-arrow prev absolute left-0 top-1/2 -translate-y-1/2 p-2 border rounded">‹</button>
      <button class="carousel-arrow next absolute right-0 top-1/2 -translate-y-1/2 p-2 border rounded">›</button>

      <div class="carousel-dots mt-4 flex justify-center gap-2">
        {% for block in section.blocks %}
          <button class="dot w-3 h-3 rounded-full border"></button>
        {% endfor %}
      </div>
    </div>
  </div>

  {% schema %}
  {
    "name": "Testimonials",
    "settings": [
      { "type": "text", "id": "title", "label": "Title", "default": "What people say" }
    ],
    "blocks": [
      { "type": "testimonial", "name": "Testimonial", "settings": [
        { "type": "textarea", "id": "quote", "label": "Quote" },
        { "type": "text", "id": "author", "label": "Author" },
        { "type": "text", "id": "role", "label": "Role" }
      ] }
    ],
    "max_blocks": 8
  }
  {% endschema %}
</section>
